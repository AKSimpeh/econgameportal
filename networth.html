<!doctype html>
<html>
<head>
  <title>Net Worth</title>
</head>
<body>
  <h1>Net Worth Leaderboard</h1>

  <nav>
    <a href="index.html">Home</a> |
    <a href="companies.html">Companies</a> |
    <a href="networth.html">Net Worth</a> |
    <a href="regulations.html">Regulations</a>
  </nav>

  <hr>
  <p id="updated"></p>
  <table border="1" cellpadding="8">
    <thead>
      <tr>
        <th>Rank</th>
        <th>Team</th>
        <th>Net Worth</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

<script>
const CSV_URL =
"https://docs.google.com/spreadsheets/d/e/2PACX-1vTireKS1uTu8KNy29DCoZmXRDSDF10rIxF4cKRUFW12Lr9U_YHQRA9MH-vuK7M1VD-XjiTrnxE3oU4Y/pub?gid=0&single=true&output=csv";

async function loadNetWorth() {
  const res = await fetch(CSV_URL + "&t=" + Date.now());
  const text = await res.text();

  const lines = text.trim().split("\n");
  const rows = [];

  for (let i = 1; i < lines.length; i++) {
    const [team, networth] = lines[i].split(",");
    rows.push({ team, networth: Number(networth) });
  }

  rows.sort((a,b) => b.networth - a.networth);

  const tbody = document.querySelector("tbody");
  tbody.innerHTML = "";

  rows.forEach((r,i) => {
    tbody.innerHTML += `
      <tr>
        <td>${i+1}</td>
        <td>${r.team}</td>
        <td>${r.networth}</td>
      </tr>`;
  });
}

loadNetWorth();
setInterval(loadNetWorth, 15000);
</script>



 
</body>
</html>
